<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description"
        content="Descubre cómo crear y gestionar una base de datos directamente en el Front-End utilizando IndexedDB y JavaScript. Ideal para amantes del desarrollo web.">
    <meta name="keywords" content="IndexedDB, JavaScript, base de datos, Front-End, desarrollo web">
    <meta name="author" content="Braulio de AprendeCode">

    <meta property="og:title" content="Aprende a Crear una Base de Datos con IndexedDB y JavaScript">
    <meta property="og:description"
        content="Adéntrate en el mundo del Front-End y aprende a crear y gestionar bases de datos con IndexedDB y JavaScript. Un tutorial esencial para cualquier amante del desarrollo web.">
    <meta property="og:image"
        content="/frontend/como-crear-una-base-de-datos-en-el-front-end-con-indexeddb-y-javascript/images/desarrolladoras-revisando-indexeddb-en-pantalla-y-movil.webp">
    <meta property="og:url"
        content="https://www.aprendecode.com/frontend/como-crear-una-base-de-datos-en-el-front-end-con-indexeddb-y-javascript/">
    <meta property="og:type" content="article">

    <link rel="android-chrome" href="/assets/logo/android-chrome-192x192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/logo/favicon-16x16.png">
    <link rel="manifest" href="/assets/logo/site.webmanifest">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <title>¿Cómo crear una Base de Datos en el Front-End con IndexedDB y JavaScript?</title>
</head>

<body>
    <my-menu></my-menu>

    <main>
        <section class="header-section header-blog-entry-section">
            <div class="header-container section-container">
                <h1 class="header-title">
                    ¿Cómo crear una Base de Datos en el Front-End con IndexedDB y JavaScript?
                </h1>
            </div>
        </section>

        <section class="blog-content-section">
            <div class="blog-content-section-container section-container">
                <p>
                    Sí, lo leíste bien. Es posible <strong>crear una base de datos</strong> sin necesidad de involucrar
                    el <strong>Back-End</strong>, solo usando <strong>JavaScript</strong>. Esta noticia es un gran
                    alivio para los amantes del <strong>Front-End</strong>. Sin embargo, es importante tener en cuenta
                    que esta base de datos tiene sus <strong>limitaciones</strong> ya que reside en el navegador. Antes
                    de sumergirnos en este tema, quiero aclarar que este blog será una <strong>introducción a
                        IndexedDB</strong>, ya que hay mucho que aprender y no podré cubrirlo todo en una sola entrada.
                    Entonces, ¿qué aprenderemos en esta publicación?
                </p>
                <p>
                    En primer lugar, aprenderemos <strong>cómo abrir la base de datos</strong>, lo cual es
                    sorprendentemente sencillo y requiere solo una propiedad y un método. Pero, antes de profundizar en
                    eso, es importante entender que, si lo comparamos con el mundo físico, la base de datos sería el
                    <strong>terreno donde construiremos nuestros almacenes</strong>. Sin embargo, no podemos guardar
                    nuestros objetos directamente en este terreno. Después de abrir la base de datos, necesitamos
                    <strong>crear un almacén de objetos</strong> y es dentro de ese almacén que podemos guardar nuestros
                    objetos.
                </p>
                <p>
                    En segundo lugar, aprenderemos <strong>cómo crear ese almacén de objetos</strong> y, finalmente,
                    veremos <strong>cómo crear índices</strong>. No te preocupes si no comprendes algunos de los
                    términos o conceptos mencionados anteriormente; los exploraremos detenidamente a medida que
                    avancemos en este blog. Para comenzar, te proporciono el <strong>código inicial</strong> que puedes
                    copiar para que lo desarrollemos juntos.
                </p>

                <h2>Preparando tu Código: HTML y CSS Base</h2>

                <div class="snippets">
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet1">Copiar</button>
                        <pre>
                           <code id="snippet1" class="language-html">
   
                           </code>
                        </pre>
                    </div>
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet2">Copiar</button>
                        <pre>
                           <code id="snippet2" class="language-css"> </code>
                        </pre>
                    </div>
                </div>

                <P>
                    Quería mencionar que este contenido también está disponible en formato de video en nuestro canal de
                    YouTube, por si prefieres aprender de esa manera. Puedes encontrarlo
                    <a href="https://www.youtube.com/watch?v=-ojbAy8zbEY" target="_blank"
                        rel="noopener noreferrer"><b>AQUÍ</b></a>.
                </P>

                <h2>Análisis del Código HTML y CSS Inicial</h2>
                <p>
                    En el <strong>código de partida</strong>, solo explicaré lo esencial. La idea central de este blog
                    es
                    <strong>preparar una base de datos para gestionar contactos</strong>. En realidad, solo nos
                    interesan <strong>tres campos del formulario</strong> y el <strong>botón "Guardar"</strong>. En el
                    formulario, recopilaremos el <strong>nombre</strong>, el <strong>ID (DNI o identificación
                        personal)</strong> y la <strong>edad</strong> de la persona. Estos datos recopilados son los que
                    almacenaremos en nuestro <strong>almacén</strong>. Cada uno de estos campos tiene un
                    <strong>ID(#)</strong> con el mismo nombre del dato que se está recopilando. Esto facilitará
                    enormemente la <strong>recuperación de estos datos en JavaScript</strong> más adelante.
                </p>

                <h2>Dominando la Función Principal en IndexedDB</h2>
                <p>
                    Entrando en el <strong>JavaScript</strong>, nuestro primer paso es <strong>declarar una
                        variable</strong> que utilizaremos a lo largo de toda la base de datos, la llamaremos
                    <strong>bd</strong>. Aunque no puedo explicarte su uso en este momento, pronto lo comprenderás
                    mejor. Luego, el segundo paso es <strong>declarar la función principal</strong>, que he nombrado
                    <strong>IniciarBaseDatos()</strong>, y de inmediato le agregamos un <strong>Event
                        Listener</strong> a la ventana que responderá al evento "<strong>load</strong>" y ejecutará esta
                    función. El código actualizado se presenta a continuación:
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet3">Copiar</button>
                        <pre>
                           <code id="snippet3" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Abrir tu Base de Datos en IndexedDB: Paso a Paso</h2>
                <p>
                    Como mencioné antes, <strong>abrir la base de datos</strong> en <strong>IndexedDB</strong> es
                    sorprendentemente simple. Requiere solo <strong>una propiedad</strong> y <strong>un método</strong>.
                    La propiedad es <strong>indexedDB</strong>, y el método es <strong>open()</strong>. Luego, entre los
                    paréntesis de este método y entre comillas, asignamos un <strong>nombre a la base de datos</strong>.
                    La línea de código se vería así: <strong>indexedDB.open("Datos-De-Contactos")</strong>.
                    ¡Sorprendentemente, esto es todo lo que se necesita para abrir la base de datos! Sin embargo, esto
                    nos lleva a la <strong>pregunta crucial</strong>: ¿Dónde se abre y almacena esta base de datos de
                    IndexedDB?
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet4">Copiar</button>
                        <pre>
                           <code id="snippet4" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>


                <h2>Localización de tu Base de Datos en IndexedDB</h2>
                <p>
                    Para aquellos que ya han trabajado previamente con el <strong>Local Storage</strong>, el proceso de
                    encontrar y explorar la base de datos de <strong>IndexedDB</strong> será bastante familiar. Pero si
                    este es un territorio nuevo para ti, no te preocupes, te explicaré los pasos. Además, para que
                    puedas guiarte visualmente, adjunto una <strong>imagen</strong> que ilustra los pasos.
                </p>
                <p>
                    <strong>Primero</strong>, abre el inspector en tu navegador. <strong>Luego</strong>, dirígete a la
                    pestaña "<strong>Application</strong>" (Aplicación). Dentro de esta pestaña, en la parte izquierda
                    de la pantalla, encontrarás una sección llamada "<strong>Storage</strong>" (Almacenamiento). Haz
                    clic en "<strong>IndexedDB</strong>". Si aún no has copiado el código para abrir la base de datos,
                    esta sección podría estar vacía. Sin embargo, si ya copiaste y ejecutaste el código, verás una base
                    de datos con el nombre "<strong>Datos-De-Contactos</strong>", como se muestra en la imagen a
                    continuación.
                </p>

                <div class="image-container">
                    <img src="/frontend/como-crear-una-base-de-datos-en-el-front-end-con-indexeddb-y-javascript/images/localizar-base-de-datos-indexeddb-inspector.webp"
                        loading="lazy" decoding="async"
                        alt="Pasos para localizar la base de datos de IndexedDB en la pestaña 'Application' del inspector del navegador">
                </div>

                <h2>Manejando Eventos Durante la Apertura de IndexedDB</h2>
                <p>
                    Dentro de la función que abre nuestra base de datos, necesitamos almacenar toda esa línea de código
                    en una variable a la que llamaremos "<strong>solicitud</strong>"
                    (<code>var solicitud = indexedDB.open("Datos-De-Contactos")</code>). ¿Por qué hacemos esto? Bueno,
                    cuando abrimos una base de datos, pueden ocurrir <strong>tres eventos diferentes</strong>. Así que,
                    vamos a agregar un <strong>Event Listener</strong> a la variable "solicitud" para escuchar cada uno
                    de estos eventos y ejecutar una función específica para cada uno de ellos.
                </p>
                <p>
                    En este punto, mencionaré los <strong>tres eventos</strong> y luego los explicaré detalladamente más
                    abajo. El primer evento es "<strong>error</strong>", para este evento vamos a crear la función
                    "<strong>MostrarError</strong>". El segundo evento es "<strong>success</strong>", y para este evento
                    crearemos la función "<strong>Comenzar</strong>". Por último, tenemos el evento
                    "<strong>upgradeneeded</strong>", para el cual vamos a crear la función
                    "<strong>CrearAlmacen</strong>".
                </p>
                <p>
                    A continuación, encontrarás el código hasta este punto, el cual puedes <strong>copiar y
                        revisar</strong>. Después de esto, comenzaremos a explicar detenidamente cada uno de los eventos
                    mencionados anteriormente.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet5">Copiar</button>
                        <pre>
                           <code id="snippet5" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Manejando Errores al Abrir IndexedDB</h2>
                <p>
                    Lo primero que haremos es definir la función <strong>MostrarError</strong>. Es crucial capturar el
                    objeto <strong>EVENTO</strong> entre los paréntesis de la función, ya que es ahí donde obtendremos
                    los detalles del error. En realidad, con el objeto EVENTO del error no hay mucho margen de maniobra;
                    sin embargo, es la <strong>clave</strong> para entender por qué estamos enfrentando dicho error.
                    Para profundizar en los detalles, lo que haremos es almacenar este objeto EVENTO en una variable y
                    luego acceder a las propiedades <strong>code</strong> y <strong>message</strong> a través de
                    <code>event.target.error</code>. Podríamos embellecer esto de diversas maneras, pero para mantener
                    las cosas sencillas en este ejemplo, utilizaremos un <strong>simple alert()</strong>. Así que,
                    dentro de la función, abrimos el alert con la información del error, tal como lo verás más adelante.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet6">Copiar</button>
                        <pre>
                           <code id="snippet6" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Qué Hacer Cuando se Abre Exitosamente IndexedDB - Evento SUCCESS</h2>
                <p>
                    Este evento se desencadena cuando tenemos <strong>éxito</strong> tanto en la creación como en la
                    apertura de una base de datos existente. Para manejarlo, primero declaramos la función
                    <strong>"Comenzar"</strong> (RECUERDA recoger el evento) y luego comenzamos a trabajar dentro de
                    ella. Ahora, el evento <strong>SUCCESS</strong> es
                    mucho más sencillo que el evento <strong>ERROR</strong>, ya que lo único que necesitamos hacer es
                    almacenar el resultado de este evento en la variable <strong>"bd"</strong> que hemos declarado en el
                    ámbito global. Para acceder al resultado de este evento, primero mencionamos el evento, luego usamos
                    la propiedad <strong>"target"</strong> y, por último, la propiedad <strong>"result"</strong>. Si
                    traducimos la palabra "target" al español, sería <strong>"objetivo"</strong>. En otras palabras, con
                    esta línea de código, le estamos diciendo literalmente que dentro de ese evento, nuestro objetivo es
                    acceder al resultado.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet7">Copiar</button>
                        <pre>
                           <code id="snippet7" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Manejo del Evento UPGRADENEEDED en tu Base de Datos</h2>
                <p>
                    Este evento se desencadena cuando el método <strong>"open"</strong> intenta abrir una base de datos
                    que <strong>no existe</strong>. Como mencionamos al inicio, aunque ya tengamos la base de datos
                    abierta, esto no significa que podamos comenzar a almacenar información en ella, sino que tenemos el
                    terreno listo para construir el almacén. Es en este evento en específico donde <strong>creamos dicho
                        almacén</strong>.
                </p>
                <p>
                    Ahora, vamos a declarar la última función que nos falta, <strong>"CrearAlmacen"</strong>, y
                    comenzamos a trabajar dentro de ella. Antes de continuar, quiero recordarte que como estas tres
                    funciones se ejecutan cuando se desencadena un evento específico, es sumamente importante
                    <strong>recoger dicho evento</strong>, ya que siempre lo utilizamos dentro de la función que le
                    corresponde. Dicho esto, lo primero que hacemos dentro de esta función es declarar una variable para
                    almacenar el evento. La llamaremos <strong>"basededatos"</strong>. Para recoger el evento, es
                    exactamente igual que como lo hicimos en la función "Comenzar". Mencionamos el evento, luego la
                    propiedad <strong>"target"</strong> y, por último, la propiedad <strong>"result"</strong>. ¡Y eso es
                    todo!
                </p>


                <h2>Creación de Almacenes de Objetos con createObjectStore()</h2>
                <p>
                    El siguiente paso consiste en <strong>crear el ALMACÉN de objetos</strong>. ¿Cómo podemos lograrlo?
                    Utilizamos el método <strong>createObjectStore()</strong>. Dentro de los paréntesis de este método y
                    entre comillas, primero especificamos el nombre que deseamos darle a nuestro almacén, que en este
                    caso es <strong>"Contactos"</strong>. En segundo lugar, y esto es crucial, definimos entre llaves
                    ({}), la propiedad <strong>keyPath</strong>, que nos permite establecer el identificador único para
                    cada objeto almacenado.
                </p>
                <p>
                    Para aclararlo mejor: si ya estás familiarizado con el <strong>Local Storage</strong>, este
                    identificador actúa como la <strong>"llave" (Key)</strong> que utilizamos para acceder a los valores
                    almacenados. Debe ser <strong>único</strong> y desempeña un papel importante, ya que también actúa
                    como un <strong>índice</strong> para ordenar la información en la Base de Datos (denominada
                    "Contactos" en este caso). Más adelante, cuando aprendamos cómo almacenar los contactos, verás cómo
                    esto se aplica en la práctica.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet8">Copiar</button>
                        <pre>
                           <code id="snippet8" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Añadiendo Índices con createIndex() en IndexedDB</h2>
                <p>
                    Ahora que tenemos un <strong>índice</strong> para ordenar nuestros contactos, es importante saber
                    que
                    podemos crear otros índices si es necesario, gracias al método <strong>createIndex()</strong>. Como
                    puedes ver en el código anterior, ya hemos almacenado el almacén de objetos recién creado en la
                    variable <strong>"almacén"</strong>. Para crear otro índice, el primer paso es referirse al almacén
                    y luego utilizar el método <strong>createIndex()</strong>. La estructura se vería así:
                    almacen.createIndex().
                </p>
                <p>
                    Dentro de las llaves de este método, proporcionamos tres valores. En primer lugar,
                    establecemos el nombre que deseamos asignar a este índice; en este caso, lo llamaremos
                    <strong>"BuscarNombre"</strong>. En segundo lugar, especificamos el identificador que vamos a
                    utilizar, que en este caso será el <strong>"nombre"</strong>. Por último, entre llaves, definimos la
                    propiedad <strong>"unique"</strong>. Esta propiedad es de tipo booleano y puede tomar los valores
                    "true" o "false". En este caso, será "false" ya que el nombre podría repetirse en diferentes
                    contactos a lo largo de la lista de contactos. A continuación, tienes la función completa
                    (<strong>CrearAlmacen</strong>).
                </p>


                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet9">Copiar</button>
                        <pre>
                           <code id="snippet9" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Código Completo para abrir tu Base de Datos en IndexedDB</h2>
                <p>
                    Aquí, al final, te proporcionaré el <strong>código completo</strong> hasta este punto junto con una
                    <strong>imagen</strong> para que puedas verificar cómo debería lucir la <strong>Base de
                        Datos</strong>. Copia y pega este código en tu editor, y verás que obtendrás el mismo resultado.
                    Es importante aclarar que al trabajar con <strong>IndexedDB</strong> y desarrollar diferentes partes
                    del código mientras lo actualizas, a veces parece que hay un problema cuando en realidad no lo hay.
                    Solo necesitas <strong>borrar la Base de Datos</strong> y, al volver a actualizar, el problema
                    desaparecerá (siempre y cuando el código esté correctamente escrito).
                </p>
                <p>
                    Para borrar la Base de Datos, nosotros, como programadores, solo necesitamos hacer clic en su
                    nombre,
                    lo que desencadenará la aparición de dos botones: uno para <strong>borrarla</strong> y otro para
                    <strong>actualizarla</strong>. Puedes intentar actualizarla primero, y si eso no funciona,
                    simplemente bórrala. Después de hacerlo, todo debería funcionar correctamente al volver a actualizar
                    la página. Recuerda que este proceso puede ser útil durante el desarrollo para <strong>depurar y
                        solucionar problemas temporales</strong>. Aquí te dejo el código y la imagen correspondiente.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet10">Copiar</button>
                        <pre>
                           <code id="snippet10" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <div class="image-container">
                    <img src="/frontend/como-crear-una-base-de-datos-en-el-front-end-con-indexeddb-y-javascript/images/codigo-completo-para-abrir-base-de-datos-indexeddb.webp"
                        loading="lazy" decoding="async"
                        alt="Código completo para abrir una base de datos en IndexedDB y botones para borrar o actualizar la base de datos">
                </div>

                <h2>🔍 Lo que Aprendiste en Este Artículo</h2>
                <p>
                    Antes de cerrar, queremos asegurarnos de que te lleves la esencia de este artículo. Si quieres un
                    rápido repaso o simplemente estás interesado en los aspectos más destacados, aquí tienes un resumen
                    rápido de los principales puntos abordados.
                </p>

                <div class="custom-list-container">
                    <h3>🚀 Resumen Rápido: Creando una base de datos en el navegador con IndexedDB</h3>
                    <ol>
                        <li><strong>Introducción a IndexedDB:</strong> Se abordó la posibilidad de crear una base de
                            datos en el navegador, utilizando solo JavaScript.</li>
                        <li><strong>Abrir la Base de Datos:</strong> Aprendimos que abrir una base de datos con
                            IndexedDB es un proceso sencillo que involucra solo una propiedad y un método.</li>
                        <li><strong>Concepto de Almacén de Objetos:</strong> Se discutió la necesidad de crear un
                            almacén de objetos para guardar datos, una vez que la base de datos está abierta.</li>
                        <li><strong>Crear Índices:</strong> Se explicó cómo crear índices en el almacén de objetos para
                            facilitar la búsqueda y el ordenamiento de datos.</li>
                        <li><strong>Interacción con Formularios:</strong> Se destacó la recopilación de datos a través
                            de formularios para almacenarlos en el almacén de objetos.</li>
                        <li><strong>Manejo de Eventos:</strong> Se detallaron los distintos eventos como "error",
                            "success", y "upgradeneeded", y cómo manejarlos.</li>
                        <li><strong>Ubicación de la Base de Datos:</strong> Se proporcionaron instrucciones para
                            encontrar la base de datos en las herramientas de desarrollo del navegador.</li>
                        <li><strong>Creación de Varios Índices:</strong> Se enseñó cómo crear índices adicionales en el
                            almacén de objetos usando el método createIndex().</li>
                        <li><strong>Depuración y Solución de Problemas:</strong> Se ofrecieron recomendaciones para
                            resolver problemas temporales como borrar y actualizar la base de datos durante el
                            desarrollo.</li>
                    </ol>
                </div>

                <h2>Adiós por Ahora: Lo Que Viene en IndexedDB</h2>
                <p>
                    Estoy realmente emocionado por la llegada de este <strong>nuevo contenido</strong> a nuestra
                    escuela.
                    Cada vez estamos entregando material de <strong>mayor calidad y valor</strong>. Mantente atento
                    porque los próximos blogs también estarán enfocados en <strong>IndexedDB</strong>. En el siguiente,
                    aprenderemos cómo <strong>almacenar información</strong> dentro del <strong>Almacén de
                        Objetos</strong> que acabamos de crear. Por ahora, quiero expresar mi deseo de que hayas
                    disfrutado de este blog y que hayas <strong>aprendido algo nuevo</strong>. ¡Nos vemos en el
                    siguiente!
                </p>
                <p>¡Un Abrazo! Braulio de <strong>AprendeCode</strong>.</p>

            </div>
        </section>
    </main>

    <my-footer></my-footer>

    <script src="/js/components/menu.js"></script>
    <script rel="preload" src="/js/components/footer.js" as="script"></script>
    <script rel="preload" src="/js/entries.js" as="script"></script>
    <script>
        const entryName = 'como-crear-una-base-de-datos-en-el-front-end-con-indexeddb-y-javascript';
        const totalSnippets = 10;
        fetchAndDisplayCodeSnippets(entryName, totalSnippets);
    </script>
</body>

</html>