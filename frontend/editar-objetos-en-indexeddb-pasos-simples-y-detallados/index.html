<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Descubre c贸mo editar objetos en IndexedDB de forma sencilla. 隆Ad茅ntrate en pasos claros y detallados para manejar tus bases de datos con facilidad!">
    <meta name="keywords" content="IndexedDB, editar objetos, bases de datos, web development, AprendeCode, tutorial">
    <meta name="author" content="Braulio de AprendeCode">

    <meta property="og:title" content="Editar Objetos en IndexedDB: Pasos Simples y Detallados">
    <meta property="og:description" content="Descubre c贸mo editar objetos en IndexedDB con claridad. Ad茅ntrate en un tutorial f谩cil de seguir y potencia tus habilidades en bases de datos.">
    <meta property="og:image" content="/frontend/editar-objetos-en-indexeddb-pasos-simples-y-detallados/images/editar-objetos-indexeddb.webp">
    <meta property="og:url" content="https://www.aprendecode.com/frontend/editar-objetos-en-indexeddb-pasos-simples-y-detallados/">
    <meta property="og:type" content="article">

    <link rel="android-chrome" href="/assets/logo/android-chrome-192x192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/logo/favicon-16x16.png">
    <link rel="manifest" href="/assets/logo/site.webmanifest">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <title>Editar Objetos en IndexedDB: Pasos Simples y Detallados</title>
</head>

<body>
    <my-menu></my-menu>

    <main>
        <section class="header-section header-blog-entry-section">
            <div class="header-container section-container">
                <h1 class="header-title">
                    Editar Objetos en IndexedDB: Pasos Simples y Detallados
                </h1>
            </div>
        </section>

        <section class="blog-content-section">
            <div class="blog-content-section-container section-container">
                <p>
                    Ya tenemos a nuestros contactos <strong>almacenados en la base de datos</strong>, pero, 驴qu茅 sucede
                    si necesitamos <strong>editar su informaci贸n</strong> en el futuro? Imagina que un contacto cambia
                    su n煤mero de tel茅fono. 隆No te preocupes! En el blog de hoy, te mostraremos c贸mo <strong>editar los
                        objetos almacenados</strong>. Para lograrlo, utilizaremos dos <strong>funciones clave</strong>.
                    La primera se encargar谩 de recopilar los datos del contacto que deseamos editar y colocarlos en un
                    formulario. La segunda ser谩 la responsable de guardar esos nuevos datos en nuestro almac茅n.
                </p>
                <p>
                    Pero, 隆vamos al grano! A continuaci贸n, encontrar谩s el <strong>c贸digo de inicio</strong> para esta
                    tarea. Incluso si has estado siguiendo nuestros blogs en orden, te recomiendo copiar este c贸digo, ya
                    que hemos realizado algunos cambios en el <strong>HTML y el CSS</strong>. Sin m谩s pre谩mbulos, aqu铆
                    est谩 el c贸digo. 隆Comencemos!
                </p>


                <h2>C贸digo de partida: HTML y CSS</h2>
                <div class="snippets">
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet1">Copiar</button>
                        <pre>
                           <code id="snippet1" class="language-html">
   
                           </code>
                        </pre>
                    </div>
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet2">Copiar</button>
                        <pre>
                           <code id="snippet2" class="language-css"> </code>
                        </pre>
                    </div>
                </div>

                <h2>C贸digo de partida: JavaScript</h2>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet3">Copiar</button>
                        <pre>
                           <code id="snippet3" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <a href="https://www.youtube.com/channel/UC1330s8WAxasTltrD-vKg8Q" target="_blank" rel="noopener noreferrer">
                    <div class="image-container">
                        <picture>
                            <source media="(max-width: 768px)" srcset="/assets/global/aprendecode-youtube-canal.webp">
                            <img src="/assets/global/aprendecode-canal-youtube.webp"
                                alt="Imagen con enlace al canal de YouTube de AprendeCode" class="img-youtube-link"
                                loading="lazy">
                        </picture>
                    </div>
                </a>

                <h2>
                    <h2>IndexedDB: Pasando la KEY como par谩metro</h2>
                </h2>
                <p>
                    Una vez que hayas copiado el <strong>c贸digo de inicio</strong>, el primer paso es generar un
                    <strong>bot贸n para cada contacto almacenado</strong>, adem谩s de asegurarnos de que se genere uno
                    nuevo cada vez que a帽adamos un contacto. Afortunadamente, esto es m谩s sencillo de lo que parece.
                    Solo necesitas realizar un peque帽o cambio en la funci贸n <strong>'MostrarContactos'</strong>.
                    Dir铆gete dentro de esta funci贸n y, despu茅s de mostrar los datos del contacto, modifica el DOM para
                    insertar el nuevo bot贸n.
                </p>
                <p>
                    El bot贸n que vamos a agregar es un elemento 'input' de tipo 'button', con la clase
                    <strong>'btn-editar'</strong> y el valor 'Editar'. Lo m谩s importante es que este bot贸n tenga un
                    <strong>Event Listener</strong> que detecte el evento <strong>'CLICK'</strong> y ejecute la funci贸n
                    <strong>'seleccionarContacto'</strong>. Adem谩s, necesitamos pasarle como par谩metro la <strong>llave
                        del contacto</strong>, que en este caso es el ID. Para hacerlo, sigue estos pasos: una vez
                    dentro de los par茅ntesis de la funci贸n, coloca el signo ( \篓篓 ) en la apertura y este ( 篓\篓 )
                    cierre. Esto no es m谩s que una barra diagonal invertida y comillas. Entre ambos signos, pasa el
                    par谩metro, que en este caso es el ID.
                </p>
                <p>
                    Aqu铆 abajo, puedes ver el cambio implementado. Reemplaza este c贸digo en tu editor, y ver谩s c贸mo
                    aparece un <strong>bot贸n al lado de cada contacto almacenado</strong> o que almacenes a partir de
                    ahora.
                </p>


                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet4">Copiar</button>
                        <pre>
                           <code id="snippet4" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>
                <p>
                    Antes de pasar al siguiente paso, es importante hacer un <strong>breve repaso</strong> de lo que
                    acabamos de hacer, ya que a veces el <strong>por qu茅</strong> es m谩s importante que el
                    <strong>c贸mo</strong>. El bot贸n que estamos generando siempre est谩 vinculado directamente al
                    contacto. Por lo tanto, cada vez que hacemos clic en el bot贸n <strong>EDITAR</strong>, sin importar
                    qu茅 contacto sea, estamos pasando la <strong>llave (key)</strong> de ese contacto en espec铆fico.
                    Gracias a esto, tenemos acceso a los datos de ese contacto. Sin la <strong>llave (key)</strong>, no
                    podr铆amos hacer nada.
                </p>



                <h2>Todo sobre "seleccionarContacto": 驴C贸mo funciona?</h2>
                <p>
                    Ahora bien, continuemos con el siguiente paso, que implica declarar la funci贸n
                    <strong>seleccionarContacto</strong>. Como recordar谩s, le estamos pasando un par谩metro, que en este
                    caso es la <strong>clave</strong> que nos permitir谩 acceder a los datos del contacto en cuesti贸n.
                    Siguiendo esta l贸gica, nombraremos el par谩metro de esta manera. Como mencion茅 anteriormente, esta
                    funci贸n tiene la importante tarea de <strong>recopilar los datos</strong> del contacto que deseamos
                    editar y luego colocarlos nuevamente en el formulario.
                </p>


                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet5">Copiar</button>
                        <pre>
                           <code id="snippet5" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>驴C贸mo solicitar la KEY del objeto?</h2>
                <p>
                    Una vez adentrados en esta funci贸n, lo primero que debemos hacer es realizar una
                    <strong>transacci贸n</strong> para obtener la clave del contacto. No me detendr茅 en explicar los
                    detalles de c贸mo se lleva a cabo una transacci贸n, ya que tenemos una entrada previa dedicada a ese
                    tema. En resumen, para lograrlo, primero especificamos en qu茅 almac茅n se realizar谩 la transacci贸n y
                    qu茅 tipo de transacci贸n ser谩, utilizando el m茅todo <strong>transaction()</strong>. En segundo lugar,
                    abrimos el almac茅n con el m茅todo <strong>objectStore()</strong>, y, en tercer lugar, ejecutamos la
                    transacci贸n que, en este caso, tiene como objetivo obtener la clave del contacto.
                </p>
                <p>
                    Para ello, comenzamos declarando la variable <strong>solicitud</strong> (var solicitud) y luego
                    aplicamos el m茅todo <strong>get()</strong> a la variable almacen. Dentro de este m茅todo, como
                    par谩metro, pasamos la clave que hab铆amos previamente obtenido en la funci贸n seleccionarContacto. As铆
                    es como avanzamos hasta este punto.
                </p>


                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet6">Copiar</button>
                        <pre>
                           <code id="snippet6" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>驴C贸mo DEVOLVER los datos al formulario?</h2>
                <p>
                    Ahora, agregaremos un <strong>event listener</strong> a la variable solicitud que responder谩 al
                    evento <strong>SUCCESS</strong> y ejecutar谩 una funci贸n an贸nima. Esta funci贸n ser谩 la encargada de
                    insertar los datos del contacto nuevamente en el formulario. Para asignar cada dato a su campo
                    correspondiente, primero identificamos el campo en el formulario y luego le asignamos el valor
                    correspondiente.
                </p>
                <p>
                    Es importante recordar que, dentro de esta funci贸n, todos los datos del contacto se encuentran en la
                    variable <strong>solicitud</strong>. Por lo tanto, mencionamos esta variable y, a continuaci贸n,
                    accedemos a la propiedad <strong>result</strong> y, finalmente, a la propiedad que contiene el dato
                    que queremos asignar. A continuaci贸n, puedes ver claramente todo lo explicado hasta este punto.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet7">Copiar</button>
                        <pre>
                           <code id="snippet7" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Renovaci贸n en marcha: Introduciendo el bot贸n "Actualizar"</h2>
                <p>
                    Si copias el c贸digo anterior en tu editor, notar谩s que cada vez que haces clic en el bot贸n de
                    editar,
                    los datos de ese contacto en particular se env铆an de vuelta al formulario. Sin embargo, en este
                    punto nos encontramos con un problema: necesitamos un bot贸n que ejecute la funci贸n encargada de
                    <strong>actualizar esos datos</strong>. Hay dos formas diferentes de abordar esto. La primera es
                    tener dos botones en nuestro programa, uno para guardar y otro para actualizar. La segunda opci贸n es
                    <strong>modificar din谩micamente el bot贸n</strong> cada vez que se necesite actualizar un contacto.
                    Personalmente, prefiero la segunda opci贸n, ya que es m谩s limpia y evita la posibilidad de hacer clic
                    en el bot贸n incorrecto y generar un error.
                </p>
                <p>
                    Para lograr esto, vamos a almacenar en una variable el contenedor padre del bot贸n "Guardar". Este
                    contenedor se identifica mediante la clase <strong>"padre-boton"</strong>. M谩s abajo puedes verlo en
                    el c贸digo. Luego, modificamos el contenido de dicho contenedor y creamos un nuevo bot贸n que ser谩 un
                    elemento de tipo input de tipo "button". Este nuevo bot贸n tendr谩 la clase
                    <strong>"btn-actualizar"</strong> y le asignamos un event listener que ejecutar谩 la funci贸n
                    <strong>"actualizarContacto"</strong>
                </p>
                <p>
                    Si copias el c贸digo a continuaci贸n en tu editor, ver谩s c贸mo se modifica el <strong>DOM</strong>,
                    reemplazando un bot贸n por otro.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet8">Copiar</button>
                        <pre>
                           <code id="snippet8" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>La magia del m茅todo "put()" en IndexedDB</h2>
                <p>
                    Si copias el c贸digo anterior y haces clic en el bot贸n Editar de cualquiera de los contactos
                    almacenados, ver谩s que los datos de ese contacto efectivamente se devuelven al formulario y que se
                    modifica el <strong>DOM</strong>, reemplazando el bot贸n Guardar por el bot贸n Actualizar. Ahora,
                    lo que nos queda es declarar la 煤ltima funci贸n, <strong>actualizarContacto</strong>, y empezar a
                    trabajar dentro de ella.
                </p>
                <p>
                    Hasta aqu铆, tenemos esto: (function actualizarContacto(){}). Lo que necesitamos hacer dentro de esta
                    funci贸n es exactamente lo mismo que hicimos en la funci贸n AlmacenarContacto. Por lo tanto,
                    simplemente vamos a copiar y pegar todo lo que hay dentro de esa funci贸n, pero necesitamos hacer una
                    peque帽a modificaci贸n. En la funci贸n AlmacenarContacto, almacenamos los contactos con el m茅todo
                    <strong>add()</strong>, pero en la funci贸n actualizarContacto, vamos a sustituirlo por el m茅todo
                    <strong>put()</strong>. Ah铆 lo tienes. Ahora, es probable que te est茅s preguntando: 驴Por qu茅?
                </p>
                <p>
                    El m茅todo <strong>add()</strong> solo agrega la informaci贸n a la base de datos si no existe la
                    llave que se est谩 utilizando para almacenar esa informaci贸n. En cambio, el m茅todo
                    <strong>put()</strong>, si la llave que se est谩 utilizando no existe, la almacena, pero si ya
                    existe en el almac茅n, entonces solo actualiza el objeto almacenado.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet9">Copiar</button>
                        <pre>
                           <code id="snippet9" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>El baile de los botones: De "Actualizar" a "Guardar"</h2>
                <p>
                    Ahora s铆, aqu铆 arriba tienes la 煤ltima funci贸n con esos cambios implementados para que veas que
                    efectivamente funciona. Sin embargo, aqu铆 nos encontramos con un problema. Cuando hacemos clic en
                    <strong>Editar</strong>, se modifica el <strong>DOM</strong> y se reemplaza el bot贸n Guardar por
                    el bot贸n Actualizar. Pero una vez que actualizamos el contacto, necesitamos volver a modificar el
                    <strong>DOM</strong>, esta vez sustituyendo el bot贸n Actualizar por el bot贸n 'Guardar'
                </p>

                <p>
                    Para hacer esta modificaci贸n en el <strong>DOM</strong>, seguimos los mismos pasos. Primero,
                    almacenamos el contenedor del bot贸n que tiene la clase <strong>padre-boton</strong>, y luego le
                    pasamos un input de tipo button, con el id btn-guardar, el valor Guardar, y un <strong>Event
                        Listener</strong> que responde al evento click y ejecuta la funci贸n almacenarContacto. No te
                    preocupes, a continuaci贸n te dejo este cambio implementado para que puedas verlo y copiarlo, y as铆
                    comprobar su funcionamiento.
                </p>


                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet10">Copiar</button>
                        <pre>
                           <code id="snippet10" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Lo m谩s destacado de esta entrada</h2>
                <p>
                    En esta publicaci贸n, te gui茅 a trav茅s del proceso de edici贸n y actualizaci贸n de contactos en una
                    Base de Datos usando IndexedDB. Pasamos de simples conceptos a implementaciones pr谩cticas,
                    entendiendo c贸mo manejar cada paso del proceso. Aqu铆 hay un r谩pido repaso de los puntos m谩s
                    esenciales que abordamos.
                </p>
                <div class="custom-list-container">
                    <h3> Resumen R谩pido: Editando y Actualizando Contactos con IndexedDB</h3>
                    <ol>
                        <li><strong>Generaci贸n de botones para cada contacto:</strong> Explicamos c贸mo generar un bot贸n
                            para cada contacto y asegurarnos de que se cree uno nuevo con cada nuevo contacto.</li>
                        <li><strong>Modificaci贸n del DOM:</strong> Abordamos c贸mo insertar un nuevo bot贸n en el DOM y
                            asociarlo con un evento 'CLICK' para la edici贸n.</li>
                        <li><strong>Funci贸n 'seleccionarContacto':</strong> Profundizamos en la creaci贸n y estructura de
                            esta funci贸n para recoger datos de un contacto y devolverlos al formulario.</li>
                        <li><strong>Uso de transacciones y el m茅todo get():</strong> Detallamos c贸mo realizar una
                            transacci贸n para obtener la clave del contacto y usar el m茅todo get() para lograrlo.</li>
                        <li><strong>Introducci贸n de datos en el formulario:</strong> Discutimos c贸mo acceder a los datos
                            del contacto y ponerlos en el formulario correspondiente.</li>
                        <li><strong>Alternar entre botones 'Guardar' y 'Actualizar':</strong> Hablamos sobre c贸mo
                            modificar din谩micamente el DOM para cambiar entre estos botones seg煤n sea necesario.</li>
                        <li><strong>Diferencia entre m茅todos 'add()' y 'put()':</strong> Explicamos las diferencias
                            clave entre estos dos m茅todos y cu谩ndo usar cada uno.</li>
                    </ol>
                </div>


                <h2>Hasta pronto: Gracias por acompa帽arnos en esta aventura</h2>
                <p>
                    Y eso es todo por hoy. No te pierdas el pr贸ximo blog, ya que estar谩 <strong>sumamente
                        interesante</strong>. Aprenderemos a buscar datos dentro de la <strong>Base de Datos</strong> y
                    a mostrarlos en pantalla. Ahora, no me queda m谩s que despedirme. Espero que hayas aprendido algo
                    nuevo y que hayas disfrutado de esta entrada. Nos leemos en el siguiente.
                </p>

                <p><strong>隆Un Abrazo!</strong> Braulio de <strong>AprendeCode</strong></p>

            </div>
        </section>
    </main>

    <my-footer></my-footer>

    <script src="/js/components/menu.js"></script>
    <script rel="preload" src="/js/components/footer.js" as="script"></script>
    <script rel="preload" src="/js/codeSnippetLoader.js" as="script"></script>
    <script>
        const folder = 'frontend';
        const entryName = 'editar-objetos-en-indexeddb-pasos-simples-y-detallados';
        const totalSnippets = 10;
        fetchAndDisplayCodeSnippets(folder, entryName, totalSnippets);
    </script>
</body>

</html>