<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Descubre c贸mo almacenar objetos en IndexedDB, comprende la diferencia entre key, propiedad y variable, y ad茅ntrate en las operaciones b谩sicas para trabajar con esta base de datos en el lado del cliente.">
    <meta name="keywords" content="IndexedDB, almacenar objetos, base de datos cliente, key, clave, objeto, almac茅n, 铆ndice, variable vs propiedad, clave principal, transacci贸n, almacenamiento web, operaciones con IndexedDB, m茅todos IndexedDB">
    <meta name="author" content="Braulio de AprendeCode">

    <meta property="og:title" content="IndexedDB y el Arte de Almacenar Objetos: Todo lo que Necesitas Saber">
    <meta property="og:description" content="Ad茅ntrate en el mundo de IndexedDB y aprende c贸mo almacenar objetos de manera eficiente. Despeja tus dudas sobre key, propiedad y variable en este recorrido detallado por la base de datos del lado del cliente.">
    <meta property="og:image" content="/frontend/indexeddb-y-el-arte-de-almacenar-objetos-todo-lo-que-necesitas-saber/images/desarrollador-indexeddb-codigo.webp">
    <meta property="og:url" content="https://www.aprendecode.com/frontend/indexeddb-y-el-arte-de-almacenar-objetos-todo-lo-que-necesitas-saber/">
    <meta property="og:type" content="article">

    <link rel="android-chrome" href="/assets/logo/android-chrome-192x192.webp">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/apple-touch-icon.webp">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/logo/favicon-32x32.webp">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/logo/favicon-16x16.webp">
    <link rel="manifest" href="/assets/logo/site.webmanifest">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js" defer></script>
    <link rel="stylesheet" href="/css/style.css">
    <title>IndexedDB y el Arte de Almacenar Objetos: Todo lo que Necesitas Saber</title>
</head>

<body>
    <my-menu></my-menu>

    <main>
        <section class="header-section header-blog-entry-section">
            <div class="header-container section-container">
                <h1 class="header-title">
                    IndexedDB y el Arte de Almacenar Objetos: Todo lo que Necesitas Saber
                </h1>
            </div>
        </section>

        <section class="blog-content-section">
            <div class="blog-content-section-container section-container">
                <p>
                    En nuestro viaje a trav茅s de <strong>IndexedDB</strong>, nos sumergimos en el mundo de las
                    <strong>transacciones</strong>. 驴Qu茅 son estas transacciones? En esencia, cualquier operaci贸n que
                    realicemos con la informaci贸n almacenada o que planeamos almacenar en la base de datos se considera
                    una transacci贸n. Algunos ejemplos de transacciones incluyen guardar un objeto, editar la informaci贸n
                    dentro de ese objeto, eliminarlo o simplemente leer la informaci贸n que ya est谩 almacenada.
                </p>
                <p>
                    En este blog, exploraremos dos tipos de transacciones: <strong>readonly (solo lectura)</strong> y
                    <strong>readwrite (lectura y escritura)</strong>. 驴C贸mo determinamos qu茅 tipo de transacci贸n
                    necesitamos? La respuesta es simple: las transacciones readonly se utilizan exclusivamente cuando
                    necesitamos acceder a informaci贸n almacenada en la base de datos, por ejemplo, para mostrar una
                    lista de contactos. Por otro lado, las transacciones readwrite se emplean cuando se realizar谩n
                    cambios en los datos, lo que significa que no solo estamos leyendo informaci贸n.
                </p>
                <p>
                    Si has seguido el blog anterior, el c贸digo de partida de esta entrada ser谩 familiar para ti. Este
                    c贸digo es una continuaci贸n de nuestro trabajo anterior en <strong>IndexedDB</strong>. Si a煤n no has
                    tenido la oportunidad de leerlo, te recomiendo que lo hagas antes de continuar aqu铆, ya que este
                    blog es una extensi贸n del anterior. Puedes encontrar la primera parte
                    <a href="/frontend/como-crear-una-base-de-datos-en-el-front-end-con-indexeddb-y-javascript/"
                        target="_blank">AQU</a>.
                </p>

                <h2>C贸digo de partida: HTML y CSS</h2>

                <div class="snippets">
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet1">Copiar</button>
                        <pre>
                           <code id="snippet1" class="language-html">
   
                           </code>
                        </pre>
                    </div>
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet2">Copiar</button>
                        <pre>
                           <code id="snippet2" class="language-css"> </code>
                        </pre>
                    </div>
                </div>

                <h2>JavaScript</h2>
                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet3">Copiar</button>
                        <pre>
                           <code id="snippet3" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Dando Vida al Bot贸n 'Guardar' con Event Listeners</h2>
                <p>
                    Para seguir adelante, primero, haremos una peque帽a modificaci贸n en la funci贸n
                    <strong>IniciarBaseDatos</strong>. Lo que necesitamos hacer es almacenar el bot贸n
                    "<strong>Guardar</strong>" en una variable y luego agregarle un <strong>Event Listener</strong> para
                    que, al hacer clic en 茅l, se ejecute la funci贸n <strong>AlmacenarContacto</strong>. El bot贸n
                    "Guardar" se identifica con el id "<strong>btn-guardar</strong>". A continuaci贸n, te presento la
                    funci贸n IniciarBaseDatos con los cambios realizados. No profundizar茅 en los detalles de este
                    proceso, ya que estamos familiarizados con el funcionamiento de los Event Listeners desde blogs
                    anteriores.
                </p>
                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet4">Copiar</button>
                        <pre>
                           <code id="snippet4" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <a href="https://www.youtube.com/channel/UC1330s8WAxasTltrD-vKg8Q" target="_blank" rel="noopener noreferrer">
                    <div class="image-container">
                        <picture>
                            <source media="(max-width: 768px)" srcset="/assets/global/aprendecode-youtube-canal.webp">
                            <img src="/assets/global/aprendecode-canal-youtube.webp"
                                alt="Imagen con enlace al canal de YouTube de AprendeCode" class="img-youtube-link"
                                loading="lazy">
                        </picture>
                    </div>
                </a>

                <h2>Creando la funci贸n AlmacenarContacto para guardar datos</h2>
                <p>
                    Ahora, en el c贸digo, declararemos la funci贸n <strong>AlmacenarContacto</strong> y comenzaremos a
                    trabajar en su interior. El primer paso dentro de esta funci贸n es buscar cada uno de los campos en
                    el <strong>HTML</strong>. Sin embargo, en lugar de simplemente obtener los elementos de entrada
                    (<strong>input</strong>), necesitamos capturar los valores que estos contienen, ya que son los datos
                    que deseamos almacenar para cada contacto.
                </p>
                <p>
                    Perm铆teme mostrarte un ejemplo utilizando el primer campo, que es el "<strong>nombre</strong>". Los
                    otros dos campos se manejan de la misma manera, por lo que no es necesario explicarlos nuevamente. A
                    cada variable, le asignaremos una letra inicial basada en el <strong>ID</strong> correspondiente.
                    Por ejemplo, para el campo "nombre", utilizaremos: var <strong>N</strong> =
                    document.querySelector("#nombre"). Esto nos ayudar谩 a simplificar algunas operaciones m谩s adelante.
                </p>
                <p>
                    Adem谩s, al finalizar la funci贸n, una vez que hayamos guardado la informaci贸n del contacto, es
                    importante que los campos queden vac铆os para que est茅n listos para el pr贸ximo contacto que deseemos
                    almacenar. Aunque abordaremos esto m谩s adelante en la funci贸n, es importante recordar que cualquier
                    acci贸n que realicemos a partir de este punto debe estar antes de la parte donde <strong>limpiamos
                        los campos</strong>. Puedes ver el c贸digo completo a continuaci贸n para una mejor comprensi贸n.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet5">Copiar</button>
                        <pre>
                           <code id="snippet5" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>驴C贸mo trabajar con transacciones mediante el m茅todo transaction()?</h2>
                <p>
                    El siguiente paso en nuestro proceso esencial para trabajar con <strong>IndexedDB</strong> involucra
                    tres l铆neas de c贸digo que son cruciales en este blog. En este punto, debemos comunicarle a
                    <strong>IndexedDB</strong> que deseamos realizar una transacci贸n y especificar su tipo. Luego,
                    abriremos el almac茅n de la base de datos donde realizaremos esta transacci贸n y, finalmente,
                    procederemos a guardar la informaci贸n, que en este caso corresponde a un nuevo contacto.
                </p>
                <p>
                    Primero, vamos a declarar una variable llamada "<strong>transaccion</strong>" para capturar este
                    evento espec铆fico: var transaccion =. A continuaci贸n, mencionamos la variable global
                    "<strong>bd</strong>" que hemos definido previamente. Luego, utilizando el m茅todo
                    "<strong>transaction()</strong>", especificamos en qu茅 almac茅n deseamos realizar la transacci贸n y
                    qu茅 tipo de transacci贸n ser谩 (readonly o readwrite).
                </p>
                <p>
                    Es fundamental que el nombre del almac茅n est茅 entre corchetes y comillas, seguido de una coma y,
                    tambi茅n entre comillas, especificamos el tipo de transacci贸n. Puedes ver c贸mo se implementa en el
                    c贸digo a continuaci贸n para tener una comprensi贸n m谩s clara.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet6">Copiar</button>
                        <pre>
                           <code id="snippet6" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Uso pr谩ctico del m茅todo objectStore() para gestionar datos</h2>
                <p>
                    Antes de continuar, quiero mencionar que si prefieres aprender mediante contenido en formato de
                    video, este tutorial ya est谩 disponible en nuestro <strong>canal de YouTube</strong>. Puedes
                    encontrarlo <a href="https://youtu.be/hT1ipzWniX4" target="_blank" rel="noopener noreferrer">
                        AQU</a>.
                </p>
                <p>
                    Hasta este punto, ya hemos informado a <strong>IndexedDB</strong> en qu茅 almac茅n deseamos realizar
                    la transacci贸n (<strong>Contactos</strong>) y qu茅 tipo de transacci贸n ser谩
                    (<strong>readwrite</strong>). Sin embargo, a煤n nos falta un paso esencial: abrir el almac茅n para
                    poder guardar los datos correspondientes a un nuevo contacto. Para lograr esto, utilizamos el m茅todo
                    "<strong>objectStore()</strong>". Primero, declaramos una variable llamada
                    "<strong>almacen</strong>" que almacenar谩 la operaci贸n que vamos a ejecutar a continuaci贸n (var
                    almacen =). A continuaci贸n, mencionamos la variable previa que representa nuestra transacci贸n
                    (<strong>transaccion</strong>) y luego aplicamos el m茅todo "<strong>objectStore()</strong>". Entre
                    los par茅ntesis, y entre comillas, proporcionamos el nombre del almac茅n que deseamos abrir, que en
                    este caso es "<strong>Contactos</strong>". Esto completa el proceso de apertura del almac茅n.
                </p>
                <p>
                    Puedes observar c贸mo se implementa en el c贸digo a continuaci贸n para tener una visi贸n m谩s clara de
                    este paso crucial.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet7">Copiar</button>
                        <pre>
                           <code id="snippet7" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Agregar datos en IndexedDB usando el m茅todo add()</h2>
                <p>
                    Ahora, con todos los preparativos completados, estamos listos para almacenar el contacto, y te
                    alegrar谩 saber que esta es la parte m谩s <strong>sencilla</strong>. Todo lo que necesitas para
                    agregar el contacto es conocer el m茅todo "<strong>add()</strong>". Este m茅todo se encarga de agregar
                    un nuevo objeto a la base de datos. Perm铆teme mostrarte c贸mo se hace. Primero, hacemos referencia a
                    la variable "<strong>almacen</strong>" y luego aplicamos el m茅todo "<strong>add()</strong>". Dentro
                    de los par茅ntesis y entre llaves (ya que estamos trabajando con un objeto), proporcionamos los datos
                    del contacto.
                </p>
                <p>
                    Dentro de estas llaves, simplemente asignamos un nombre a cada propiedad y luego le pasamos la
                    variable que contiene la informaci贸n correspondiente. Por ejemplo, para el nombre, lo nombramos
                    "<strong>nombre</strong>" y, a continuaci贸n, utilizamos dos puntos para asignarle el valor contenido
                    en la variable "<strong>N</strong>" (nombre: N). Esto se puede apreciar claramente en el c贸digo a
                    continuaci贸n, por lo que no considero necesario explicar c贸mo almacenar los otros datos del
                    contacto, ya que el proceso es el mismo.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet8">Copiar</button>
                        <pre>
                           <code id="snippet8" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Repaso del c贸digo: Guardando contactos en la base de datos</h2>
                <p>
                    A continuaci贸n, te proporciono el <strong>c贸digo completo</strong> hasta este punto, para que puedas
                    copiarlo f谩cilmente y agregar tu primer contacto a la Base de Datos. Despu茅s de a帽adir el nuevo
                    contacto, abre el inspector y verifica si se ha almacenado correctamente. Si por alguna raz贸n no
                    funciona como se esperaba, simplemente <strong>borra la base de datos</strong> por completo y,
                    despu茅s de hacerlo, actualiza la p谩gina. Esto deber铆a resolver cualquier problema que puedas
                    encontrar.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet9">Copiar</button>
                        <pre>
                           <code id="snippet9" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Entendiendo las claves(Keys) en objetos de IndexedDB: Propiedad o Variable</h2>
                <p>
                    Ahora, retrocediendo un poco, mencion茅 que hab铆a nombrado las variables solo con sus iniciales para
                    explicarte algo importante m谩s adelante. Lo que necesito explicarte es acerca de la
                    <strong>clave</strong> o "key" del objeto que se almacena en la Base de Datos. Para entender esto
                    mejor, te proporciono una imagen a continuaci贸n. Cuando estamos asignando una clave tanto al crear
                    un nuevo 铆ndice en el almac茅n, como al definir la clave principal del objeto, es importante entender
                    la diferencia entre la <strong>propiedad</strong> y la <strong>variable</strong> que estamos
                    utilizando.
                </p>
                <p>
                    Por ejemplo, si consideramos la clave principal "id", en el objeto almacenado tenemos { id: I }.
                    Aqu铆, "id" es la propiedad (el nombre que le damos) e "I" es la variable que contiene la informaci贸n
                    a almacenar. Si hubiera utilizado el mismo nombre tanto para la variable como para la propiedad (lo
                    cual es posible), este punto no ser铆a tan claro. He hecho esto para facilitar la comprensi贸n, ya que
                    a menudo puede resultar confuso, especialmente al principio.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet10">Copiar</button>
                        <pre>
                           <code id="snippet10" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <div class="image-container">
                    <img src="/frontend/indexeddb-y-el-arte-de-almacenar-objetos-todo-lo-que-necesitas-saber/images/indexeddb-key-propiedad-diferencia.webp" loading="lazy" decoding="async"
                        alt="Captura de pantalla mostrando las llaves en el almac茅n de objetos de IndexedDB, destacando la diferencia entre la propiedad 'id' y la variable 'I'.">
                </div>

                <h2>Repasando lo Aprendido</h2>
                <p>
                    A lo largo de este blog, nos adentramos en el funcionamiento de las transacciones en IndexedDB y
                    c贸mo llevar a cabo operaciones b谩sicas. A continuaci贸n, te presento un resumen de los puntos clave
                    para que tengas una revisi贸n r谩pida y concisa de todo lo que abordamos.
                </p>
                <div class="custom-list-container">
                    <h3> Resumen R谩pido: Explorando Transacciones en IndexedDB</h3>
                    <ol>
                        <li><strong>Entendiendo las Transacciones:</strong> Cada operaci贸n que llevamos a cabo en
                            IndexedDB, ya sea almacenar, editar o simplemente leer la informaci贸n dentro del objeto, se considera una transacci贸n.</li>
                        <li><strong>Tipos de Transacciones:</strong> Se introdujeron dos tipos de transacciones
                            principales, readonly (solo lectura) y readwrite (lectura y escritura), y se discuti贸 cu谩ndo
                            usar cada una.</li>
                        <li><strong>Event Listener para Guardar:</strong> Se hizo una modificaci贸n para agregar un Event
                            Listener al bot贸n "Guardar", permitiendo as铆 ejecutar la funci贸n AlmacenarContacto.</li>
                        <li><strong>Funci贸n AlmacenarContacto:</strong> Aprendimos c贸mo declarar y definir esta funci贸n,
                            capturando datos de entrada y prepar谩ndolos para su almacenamiento en la base de datos.</li>
                        <li><strong>M茅todo transaction():</strong> Es el m茅todo que nos permite comunicar a IndexedDB
                            que queremos realizar una transacci贸n, especificando en qu茅 almac茅n y de qu茅 tipo ser谩.</li>
                        <li><strong>M茅todo objectStore():</strong> Se destac贸 la importancia de este m茅todo para abrir
                            el almac茅n espec铆fico en el que deseamos realizar la operaci贸n.</li>
                        <li><strong>M茅todo add():</strong> Con este m茅todo, se guarda un nuevo objeto en la base de
                            datos, en nuestro caso, un nuevo contacto.</li>
                        <li><strong>Clarificaci贸n sobre KEY:</strong> Se aclar贸 que la KEY utilizada para almacenar
                            objetos en IndexedDB es una propiedad seleccionada del objeto y no se refiere a la variable
                            dentro de la funci贸n. Esta distinci贸n es crucial para evitar confusiones al trabajar con
                            IndexedDB.</li>
                    </ol>
                </div>

                <h2>Palabras finales y pr贸ximo paso en tu viaje con IndexedDB</h2>
                <p>
                    Pues bien, querido <strong>coder</strong>, llegamos al final de este blog. Recuerda que los
                    siguientes seguir谩n tratando el mismo tema, y es absolutamente necesario que los leas en el orden en
                    que se publiquen para comprenderlos plenamente. Espero sinceramente que esta informaci贸n te haya
                    sido de gran ayuda en tu viaje. Si en alg煤n momento te quedas con alguna duda, no dudes en dejarme
                    un comentario. Estar茅 encantado de brindarte la ayuda que necesitas lo m谩s r谩pido posible. As铆 que,
                    con esto dicho, espero que hayas disfrutado de la lectura, que hayas aprendido algo nuevo y espero
                    verte en el <strong>pr贸ximo blog</strong>.
                </p>

            </div>
        </section>
    </main>

    <my-footer></my-footer>

    <script src="/js/components/menu.js"></script>
    <script rel="preload" src="/js/components/footer.js" as="script"></script>
    <script rel="preload" src="/js/codeSnippetLoader.js" as="script"></script>
    <script>
        const folder = 'frontend';
        const entryName = 'indexeddb-y-el-arte-de-almacenar-objetos-todo-lo-que-necesitas-saber';
        const totalSnippets = 10;
        fetchAndDisplayCodeSnippets(folder, entryName, totalSnippets);
    </script>
</body>

</html>