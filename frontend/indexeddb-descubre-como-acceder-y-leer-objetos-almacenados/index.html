<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description"
        content="Aprende a acceder y leer objetos almacenados en IndexedDB. Descubre c贸mo la funci贸n MostrarContacto puede ayudarte a visualizar tus datos y c贸mo editar la informaci贸n de los contactos en futuras actualizaciones.">
    <meta name="keywords"
        content="IndexedDB, leer objetos, almacenamiento, funci贸n MostrarContacto, puntero, almac茅n, cajaContactos, puntero.value, editar objetos, m茅todo continue(), base de datos, almac茅n de objetos, puntero.target, editar informaci贸n, lista de contactos, mostrar contactos, actualizar lista">
    <meta name="author" content="Braulio de AprendeCode">

    <meta property="og:title" content="IndexedDB: Descubre c贸mo acceder y leer OBJETOS almacenados">
    <meta property="og:description"
        content="Aprende a acceder y leer objetos almacenados en IndexedDB. Descubre c贸mo la funci贸n MostrarContacto puede ayudarte a visualizar tus datos y c贸mo editar la informaci贸n de los contactos en futuras actualizaciones.">
    <meta property="og:image"
        content="/frontend/indexeddb-descubre-como-acceder-y-leer-objetos-almacenados/images/Desarrolladores-asombrados-indexeddb.webp">
    <meta property="og:url"
        content="https://www.aprendecode.com/frontend/indexeddb-descubre-como-acceder-y-leer-objetos-almacenados/">
    <meta property="og:type" content="article">

    <link rel="android-chrome" href="/assets/logo/android-chrome-192x192.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/logo/favicon-16x16.png">
    <link rel="manifest" href="/assets/logo/site.webmanifest">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <link rel="stylesheet" href="/css/style.css">
    <title>IndexedDB: Descubre c贸mo acceder y leer OBJETOS almacenados</title>
</head>

<body>
    <my-menu></my-menu>

    <main>
        <section class="header-section header-blog-entry-section">
            <div class="header-container section-container">
                <h1 class="header-title">
                    IndexedDB: Descubre c贸mo acceder y leer OBJETOS almacenados
                </h1>
            </div>
        </section>

        <section class="blog-content-section">
            <div class="blog-content-section-container section-container">
                <p>
                    En <strong>blogs anteriores</strong>, hemos explorado la apertura de la <strong>Base de
                        Datos</strong> y c贸mo comenzar a almacenar objetos, en este caso, contactos. Sin embargo, en
                    esta ocasi贸n, nos enfocaremos en c贸mo <strong>acceder a los datos almacenados</strong>. En el
                    ejemplo que estamos desarrollando, una lista de contactos, deseamos mostrar en pantalla la
                    <strong>lista de contactos almacenados</strong>. Este proceso se llevar谩 a cabo de manera que, cada
                    vez que se agregue un nuevo contacto, se muestre autom谩ticamente en la lista, as铆 como al cargar la
                    ventana del navegador.
                </p>

                <h2>驴Qu茅 son los Cursores en la API IndexedDB?</h2>
                <p>
                    Para acceder a la informaci贸n almacenada en la <strong>Base de Datos</strong>, es esencial
                    comprender el concepto de "<strong>cursores</strong>". Un cursor es la herramienta que nos permite
                    navegar a trav茅s de la informaci贸n almacenada en la Base de Datos. Para una analog铆a simple,
                    podr铆amos compararlo con el <strong>puntero de un mouse</strong>. Al igual que el puntero nos
                    permite navegar por la web y seleccionar elementos espec铆ficos para hacer clic, el cursor en
                    <strong>IndexedDB</strong> lee los objetos dentro del almac茅n y genera un puntero. Este puntero
                    apunta a un objeto a la vez, lo que nos permite mostrar, editar o realizar cualquier acci贸n
                    necesaria en ese objeto en particular.
                </p>
                <p>
                    Si esta explicaci贸n a煤n no est谩 del todo clara, no te preocupes, ya que iremos <strong>adentr谩ndonos
                        en los detalles</strong> m谩s adelante. Por ahora, aqu铆 tienes el <strong>c贸digo de
                        partida</strong>. Incluso si has estado siguiendo el orden de los blogs anteriores, necesitas
                    copiar este c贸digo inicial, ya que he realizado algunos cambios en el <strong>HTML</strong> y el
                    <strong>CSS</strong>.
                </p>

                <a href="https://www.youtube.com/channel/UC1330s8WAxasTltrD-vKg8Q" target="_blank" rel="noopener noreferrer">
                    <div class="image-container">
                        <picture>
                            <source media="(max-width: 768px)" srcset="/assets/global/aprendecode-youtube-canal.webp">
                            <img src="/assets/global/aprendecode-canal-youtube.webp"
                                alt="Imagen con enlace al canal de YouTube de AprendeCode" class="img-youtube-link"
                                loading="lazy">
                        </picture>
                    </div>
                </a>

                <h2>C贸digo de partida: HTML y CSS</h2>
                <div class="snippets">
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet1">Copiar</button>
                        <pre>
                           <code id="snippet1" class="language-html">
   
                           </code>
                        </pre>
                    </div>
                    <div class="snippet">
                        <button class="copy-button" data-copy-target="#snippet2">Copiar</button>
                        <pre>
                           <code id="snippet2" class="language-css"> </code>
                        </pre>
                    </div>
                </div>

                <h2>C贸digo de partida: JavaScript</h2>
                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet3">Copiar</button>
                        <pre>
                           <code id="snippet3" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Configuraci贸n Inicial y Contexto</h2>
                <p>
                    Antes de continuar quer铆a decirte que este blog est谩 disponible pero en formato video en nuestro
                    canal de YouTube y te lo dejo por
                    <a href="https://youtu.be/Qyb-JsSruPU?si=VSCvjVMWT-0zG4ft" target="_blank"
                        rel="noopener noreferrer">AQU</a>.
                </p>
                <p>
                    Dentro del <strong>c贸digo JavaScript</strong>, lo primero que haremos es almacenar en una variable
                    el
                    contenedor donde mostraremos la <strong>lista de contactos</strong>. Declaramos esta variable en el
                    谩mbito global con el nombre de "<strong>cajaContactos</strong>", pero la asignamos dentro de la
                    funci贸n "<strong>IniciarBaseDatos</strong>". Este contenedor est谩 identificado con la clase
                    "<strong>caja-contactos</strong>", y puedes ver esta modificaci贸n en el c贸digo a continuaci贸n. No es
                    necesario entrar en detalles en este momento, pero es importante estar al tanto de los
                    <strong>cambios que realizamos en el c贸digo</strong>.
                </p>
                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet4">Copiar</button>
                        <pre>
                           <code id="snippet4" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <div class="image-container">
                    <img src="" loading="lazy" decoding="async" alt="">
                </div>

                <h2>Creando y Configurando la Funci贸n "Mostrar"</h2>
                <p>
                    Ya estamos listos para comenzar a trabajar en la funci贸n que mostrar谩 la <strong>lista de
                        contactos</strong>. Dir铆gete al final del c贸digo y declara la funci贸n
                    "<strong>Mostrar</strong>". En esta funci贸n, lo primero que haremos es borrar el contenido de la
                    <strong>caja de contactos</strong>, ya que por defecto contiene un mensaje que indica que a煤n no hay
                    contactos.
                </p>
                <p>
                    Ahora, como aprendimos en el blog anterior, todas las acciones que involucran informaci贸n de la
                    <strong>Base de Datos</strong> se consideran <strong>transacciones</strong>. Por lo tanto,
                    necesitamos indicar en qu茅 almac茅n realizaremos la transacci贸n, especificar el tipo de transacci贸n y
                    abrir el almac茅n para acceder a los <strong>datos almacenados</strong>. No es necesario explicar
                    cada paso, ya que es igual a lo que vimos en el blog anterior. La 煤nica diferencia es que, al ser
                    una transacci贸n de solo lectura (<strong>readonly</strong>), no es necesario especificar este tipo,
                    ya que se tomar谩 como el tipo de transacci贸n predeterminado. Si tienes alguna duda sobre c贸mo
                    realizar una transacci贸n, puedes consultar este
                    <a href="/frontend/indexeddb-y-el-arte-de-almacenar-objetos-todo-lo-que-necesitas-saber/"
                        target="_blank"> enlace</a>. Adem谩s, a continuaci贸n, te dejo la funci贸n hasta este punto.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet5">Copiar</button>
                        <pre>
                           <code id="snippet5" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Apertura y Uso del Cursor con openCursor()</h2>
                <p>
                    Como mencion茅 anteriormente, para poder navegar a trav茅s de los datos almacenados en la <strong>Base
                        de Datos</strong>, necesitamos abrir un <strong>cursor</strong>. Aqu铆 es donde comenzamos a
                    trabajar con el m茅todo "<strong>openCursor()</strong>". Pero, 驴c贸mo lo abrimos? En primer lugar,
                    declaramos una variable llamada "<strong>puntero</strong>" (var puntero =). Luego, mencionamos la
                    variable "<strong>almac茅n</strong>", ya que queremos abrir el cursor dentro de ese almac茅n
                    espec铆fico, y finalmente, le pasamos el m茅todo mencionado anteriormente. Esto se ver铆a de la
                    siguiente manera: "var puntero = almacen.openCursor()". Ahora tenemos el cursor abierto y estamos
                    listos para mostrar la informaci贸n almacenada en la Base de Datos.
                </p>
                <p>
                    Sin embargo, para lograr esto, necesitamos agregar un <strong>Event Listener</strong> a la variable
                    "puntero" que responda al evento "<strong>SUCCESS</strong>" y que luego ejecute una funci贸n llamada
                    "<strong>MostrarContactos</strong>". Esto se logra de la siguiente manera:
                    "puntero.addEventListener('success', MostrarContactos)". Con esta l铆nea de c贸digo, le indicamos que,
                    en cuanto tengamos 茅xito en la apertura del cursor, se ejecute la funci贸n "MostrarContactos". A
                    continuaci贸n, te dejo la funci贸n completa hasta este punto, y continuaremos m谩s adelante.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet6">Copiar</button>
                        <pre>
                           <code id="snippet6" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Accediendo a la Informaci贸n: Leer Objetos Almacenados</h2>
                <p>
                    La funci贸n <strong>MostrarContacto</strong> es m谩s sencilla de lo que parece. Comenzamos declarando
                    la funci贸n y, una vez dentro, nos aseguramos de recoger el <strong>evento</strong>, ya que todo lo
                    que hagamos aqu铆 estar谩 relacionado con 茅l. Hasta ahora, nuestra funci贸n luce as铆: (function
                    MostrarContacto(evento){}). A continuaci贸n, lo primero que hacemos es almacenar el evento en una
                    variable, que en este caso llamaremos '<strong>puntero</strong>'. Para hacerlo, simplemente
                    utilizamos la misma t茅cnica que hemos empleado en funciones anteriores, como la funci贸n
                    <strong>Comenzar</strong>. As铆 es como se ve hasta ahora: var puntero = evento.target.result.
                </p>
                <p>
                    El segundo y 煤ltimo paso en esta funci贸n implica abrir una condici贸n que verifique si el puntero
                    existe dentro del <strong>almac茅n</strong>. Si existe, procedemos a mostrar los contactos en el
                    contenedor <strong>cajaContactos</strong>. Te dejo el c贸digo hasta este punto a continuaci贸n. Pero
                    antes, d茅jame aclarar un detalle: cuando modificamos el contenido de cajaContactos, utilizamos el
                    operador <strong>+=</strong>. Esto se debe a que, si utilizamos simplemente el signo de igual, cada
                    vez que actualizamos el <strong>DOM</strong> para mostrar un nuevo contacto, eliminar铆amos el
                    anterior. Esto dar铆a como resultado que, en lugar de tener una lista de contactos, solo ver铆amos el
                    煤ltimo de la lista. Ahora, aqu铆 tienes el c贸digo para revisar y continuar m谩s abajo.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet7">Copiar</button>
                        <pre>
                           <code id="snippet7" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Extracci贸n de Valores desde el Puntero</h2>
                <p>
                    Como mencion茅 antes, el <strong>puntero</strong> solo apunta a un objeto a la vez. Imagina que el
                    primer contacto es <strong>Braulio</strong>, con un <strong>ID de 101</strong> y una <strong>edad de
                        31 a帽os</strong>. Cada uno de estos valores se almacena en una propiedad espec铆fica, como vimos
                    en el blog anterior. Acceder a estos valores es realmente sencillo. Perm铆teme explicarlo con el
                    ejemplo del nombre. Supongamos que deseas conocer el nombre del contacto en la posici贸n actual del
                    puntero. Aqu铆 tienes la sintaxis y una explicaci贸n detallada:
                    (<strong>puntero.value.nombre</strong>).
                </p>
                <p>
                    Primero, mencionamos el <strong>puntero</strong>. Segundo, accedemos a la propiedad
                    '<strong>value</strong>'. Por 煤ltimo, especificamos la propiedad en la que se encuentra almacenado
                    el valor que deseamos conocer, en este caso, '<strong>nombre</strong>'. Para simplificar, esta l铆nea
                    de c贸digo significa: "Quiero saber el valor almacenado en la propiedad 'nombre' en la posici贸n
                    actual del puntero". Creo que con este ejemplo es suficiente; no es necesario explicar c贸mo acceder
                    a los otros dos valores, ya que el proceso es id茅ntico al del nombre, solo que cambia la 煤ltima
                    propiedad. Puedes encontrar el c贸digo hasta este punto a continuaci贸n.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet8">Copiar</button>
                        <pre>
                           <code id="snippet8" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Puntos de Activaci贸n de la Funci贸n Mostrar</h2>
                <p>
                    Antes de continuar, necesito hacer una pausa y explicarte algo importante. Hasta ahora, todo parece
                    ir muy bien, pero para que se muestre la <strong>lista de contactos</strong>, debemos invocar la
                    funci贸n <strong>Mostrar</strong> en alg煤n punto de este c贸digo. En este caso, la llamaremos desde
                    dos ubicaciones diferentes. La primera opci贸n es la m谩s sencilla. Dado que la funci贸n
                    <strong>Comenzar</strong> se ejecuta cada vez que se abre una base de datos existente o cuando se
                    crea una nueva, vamos a llamar a la funci贸n Mostrar desde esa funci贸n. Esto garantizar谩 que cada vez
                    que se abra la p谩gina o se actualice, se muestren los contactos almacenados.
                </p>
                <p>
                    Sin embargo, no se actualizar谩 autom谩ticamente cada vez que se agregue un nuevo contacto. Para
                    resolver este problema, llamaremos a la funci贸n Mostrar desde la funci贸n
                    <strong>AlmacenarContacto</strong>. Para que esto funcione correctamente, debemos agregar un
                    <strong>Event Listener</strong> a la variable 'transaccion' que responda al evento 'complete'. De
                    esta manera, cada vez que se complete el almacenamiento de un nuevo contacto, se actualizar谩 la
                    lista sin necesidad de actualizar la ventana. A continuaci贸n, te muestro las funciones con estos
                    cambios implementados, para que puedas revisar la sintaxis y aclarar cualquier duda que puedas tener
                    al respecto.
                </p>
                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet9">Copiar</button>
                        <pre>
                           <code id="snippet9" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>El Poder del M茅todo continue() en IndexedDB</h2>
                <p>
                    Ahora, si ya has realizado todos estos cambios en tu <strong>editor de c贸digo</strong>, notar谩s que
                    comenzar谩n a mostrarse los <strong>contactos almacenados</strong>, pero solo el primero. Si todav铆a
                    tienes solo un contacto almacenado, te invito a que hagas una prueba y observes c贸mo, a pesar de que
                    la lista contiene m谩s de un contacto, solo se muestra el primero. Esto se debe a que, como mencion茅
                    unas l铆neas atr谩s, el <strong>puntero</strong> solo apunta a un elemento a la vez y comienza desde
                    el primero.
                </p>
                <p>
                    No obstante, podemos mostrar la <strong>lista completa de contactos</strong> en una sola funci贸n.
                    Para lograrlo, utilizamos el m茅todo <strong>continue()</strong>, que recorre todo el almac茅n de
                    objetos, comenzando desde el primero y deteni茅ndose cuando ya no hay m谩s objetos que recorrer. La
                    sintaxis de este m茅todo es bastante sencilla, y te la muestro a continuaci贸n: (puntero.continue()).
                    Si colocas esta l铆nea de c贸digo despu茅s de cerrar la etiqueta DIV, ver谩s c贸mo se muestran todos los
                    contactos de la lista.
                </p>
                <p>
                    A continuaci贸n, te proporciono el <strong>c贸digo completo</strong> de la Base de Datos hasta este
                    punto para que puedas copiarlo y observar su funcionamiento.
                </p>

                <div class="snippets">
                    <div class="snippet snippet-alone">
                        <button class="copy-button" data-copy-target="#snippet10">Copiar</button>
                        <pre>
                           <code id="snippet10" class="language-javascript">
   
                           </code>
                        </pre>
                    </div>
                </div>

                <h2>Repasando lo Aprendido</h2>
                <p>
                    A lo largo de este blog, exploramos en profundidad la visualizaci贸n de contactos desde una Base de
                    Datos utilizando IndexedDB. Dedicamos tiempo para comprender c贸mo acceder, navegar y presentar la
                    informaci贸n almacenada. A continuaci贸n, te presento un resumen de los puntos m谩s cruciales, para que
                    cuentes con una revisi贸n directa y clara de lo discutido.
                </p>
                <div class="custom-list-container">
                    <h3> Resumen R谩pido: Visualizando Contactos con IndexedDB</h3>
                    <ol>
                        <li><strong>Declaraci贸n de la funci贸n Mostrar:</strong> Se introdujo c贸mo declarar la funci贸n
                            "Mostrar" para visualizar la lista de contactos.</li>
                        <li><strong>Uso del cursor:</strong> Explicamos c贸mo abrir un cursor usando el m茅todo
                            "openCursor()" y c贸mo navegar a trav茅s de los datos con este.</li>
                        <li><strong>Evento "SUCCESS" y funci贸n MostrarContactos:</strong> Se destac贸 la importancia de
                            agregar un Event Listener que responda al evento "SUCCESS" y ejecuta la funci贸n
                            "MostrarContactos".</li>
                        <li><strong>Funci贸n MostrarContacto:</strong> Se describi贸 c贸mo se estructura esta funci贸n y
                            c贸mo verifica si el puntero tiene contenido para mostrar.</li>
                        <li><strong>Acceso a valores de un objeto:</strong> Se ense帽贸 la sintaxis para acceder a valores
                            espec铆ficos de un objeto en la posici贸n actual del puntero.</li>
                        <li><strong>Importancia de invocar la funci贸n Mostrar:</strong> Aprendimos la necesidad de
                            invocar la funci贸n Mostrar desde distintos puntos para asegurar una visualizaci贸n
                            actualizada.</li>
                        <li><strong>M茅todo continue():</strong> Se introdujo el uso del m茅todo "continue()" para
                            recorrer todos los objetos en el almac茅n y mostrarlos.</li>
                    </ol>
                </div>


                <h2>Conclusi贸n y Proyecci贸n a Futuros Blogs</h2>
                <p>
                    Hasta este punto, todo est谩 funcionando <strong>perfectamente</strong>. Sin embargo, es importante
                    considerar que en el futuro, es posible que algunos <strong>contactos modifiquen su
                        informaci贸n</strong>, como cambiar su n煤mero de tel茅fono, por mencionar un ejemplo. Por esta
                    raz贸n, es esencial tener una forma de <strong>editar la informaci贸n almacenada</strong> en estos
                    objetos. Por lo tanto, el pr贸ximo blog se centrar谩 en <strong>c贸mo editar objetos</strong>. Ahora
                    que hemos llegado al final de este blog, espero que hayas aprendido algo nuevo y que hayas
                    disfrutado del contenido. 隆Nos leemos en el siguiente!<br>
                    <br>
                    隆<strong>Un Abrazo</strong>! Braulio de <strong>AprendeCode</strong>.
                </p>



            </div>
        </section>
    </main>

    <my-footer></my-footer>

    <script src="/js/components/menu.js"></script>
    <script rel="preload" src="/js/components/footer.js" as="script"></script>
    <script rel="preload" src="/js/entries.js" as="script"></script>
    <script>
        const entryName = 'indexeddb-descubre-como-acceder-y-leer-objetos-almacenados';
        const totalSnippets = 10;
        fetchAndDisplayCodeSnippets(entryName, totalSnippets);
    </script>
</body>

</html>